// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Raca {
  id           Int          @id @default(autoincrement())
  name         String       @unique
  descricao    String?
  caracteristicas String?
  habilidadesEspeciais  String?      // JSON string for special abilities
  nivelPoderMedio String?
  planetaId    Int
  imageUrl    String?
  personagens  Personagem[]
planeta            Planeta  @relation(fields: [planetaId], references: [id])

  criadoEm     DateTime     @default(now())
  atualizadoEm DateTime     @updatedAt

  @@map("racas")
}

model Planeta {
  id           Int          @id @default(autoincrement())
  name         String       @unique
  descricao    String?
  nivelPoder   String?
  personagens  Personagem[]
  racas        Raca[]
  imageUrl    String?

  criadoEm     DateTime     @default(now())
  atualizadoEm DateTime     @updatedAt

  @@map("planetas")
}

model Personagem {
  id                 Int      @id @default(autoincrement())
  name               String
  ki                 String?
  racaId             Int
  planetaId          Int
  tecnicasEspeciais  String?  // JSON string for array of techniques
  sagas     String?  // JSON string for array of sagas
  transformacoes     String?  // JSON string for array of transformations
  biografia          String?
  imageUrl          String?
  raca               Raca     @relation(fields: [racaId], references: [id])
  planeta            Planeta  @relation(fields: [planetaId], references: [id])

  criadoEm           DateTime @default(now())
  atualizadoEm       DateTime @updatedAt

  @@map("personagens")
}